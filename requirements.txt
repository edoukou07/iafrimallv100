# MAIN REQUIREMENTS - Image Search API with CLIP
# Production-ready dependencies for Azure Container Apps
# Consolidated from: requirements-image-search.txt + requirements-ultra-light.txt
#
# Architecture:
# - FastAPI + Uvicorn (production ready with Gunicorn)
# - CLIP Model (OpenAI) for multi-modal image/text embeddings (512-dim)
# - Qdrant Vector Database (disk-based, integrated in container)
# - TF-IDF fallback for text-only search (scikit-learn)
# - Pillow-SIMD for accelerated image processing
#
# Features:
# ✅ Image search (visual similarity)
# ✅ Text search (cross-modal)
# ✅ Hybrid search (image + text filters)
# ✅ Auto-scaling on Azure Container Apps
# ✅ Single container = no external services
#
# Performance: 150-300ms end-to-end latency
# Size: ~500MB (compressed: ~150-200MB)
# Cost: $6-16/month on Azure

# Core Framework
fastapi==0.104.1
uvicorn==0.24.0
gunicorn==21.2.0
python-multipart==0.0.6
pydantic==2.5.2
pydantic-settings==2.1.0

# Async HTTP & File Handling
aiofiles==23.2.1
aiohttp==3.9.1
httpx==0.25.2
python-dotenv==1.0.0
tenacity==8.2.3
redis==5.0.1

# Image Processing
pillow==10.1.0
numpy==1.26.2

# Vector Database (Integrated in-container)
qdrant-client==1.15.1

# Machine Learning: Image Embeddings (CLIP)
# PyTorch 2.0.1: ~350MB (200MB lighter than 2.1.1)
torch==2.0.1
torchvision==0.15.2
transformers==4.32.1

# Machine Learning: Text Embeddings (Fallback)
# TF-IDF embeddings for text-only search
scikit-learn==1.3.2
psutil==5.9.6

# BM25 for keyword-based search (Hybrid Search)
rank-bm25==0.2.2

# Voice & Audio Processing
openai-whisper==20231117
pydub==0.25.1